fetch('links.json')
  .then(res => res.json())
  .then(data => {
    const params = new URLSearchParams(window.location.search);
    const slug = params.get('slug');

    const episodes = data.filter(item => item.slug === slug);

    const episodeList = document.getElementById('episode-list');
    if (episodes.length === 0) {
      episodeList.innerHTML = '<p>No episodes found.</p>';
      return;
    }

    episodes.forEach(ep => {
      const item = document.createElement('div');
      item.className = 'episode-item';
      item.innerHTML = `
        <h4>${ep.title}</h4>
        <p>Season: ${ep.season}, Episode: ${ep.episode}</p>
        <a href="${ep.stream}" target="_blank">▶ Watch Online</a> |
        <a href="${ep.download}" target="_blank">⬇ Download</a>
      `;
      episodeList.appendChild(item);
    });
  });
